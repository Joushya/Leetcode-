class Solution:
 def longestIncreasingPath(self, matrix):
  m,n=len(matrix),len(matrix[0])

  def dfs(i,j,prev):
   if i<0 or i>=m or j<0 or j>=n or matrix[i][j]<=prev:
    return 0
   val = matrix[i][j]
   return 1 + max(
     dfs(i+1,j,val),
     dfs(i-1,j,val),
     dfs(i,j+1,val),
     dfs(i,j-1,val)
   )

  max_len=0
  for i in range(m):
   for j in range(n):
    max_len = max(max_len, dfs(i,j,-1))
  return max_len
